rules_version = '2';

// Admin panel: only authenticated users (Firebase Auth) can write.
// Public site: anyone can read projects, gallery, settings; anyone can create enquiries.
service cloud.firestore {
  match /databases/{database}/documents {

    // Projects: public read, admin write (add/update/delete)
    match /projects/{projectId} {
      allow read: if true;
      allow create, update, delete: if request.auth != null;
    }

    // Gallery: public read, admin write
    match /gallery/{itemId} {
      allow read: if true;
      allow create, delete: if request.auth != null;
    }

    // Site settings (single doc at settings/site): public read, admin write
    match /settings/{docId} {
      allow read: if true;
      allow create, update: if request.auth != null;
    }

    // Enquiries: public can create (contact form), only admin can read/update/delete
    match /enquiries/{enquiryId} {
      allow read, update, delete: if request.auth != null;
      allow create: if true;
    }
  }
}
